<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">
      Mi lista de tareas
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  
    <ion-item>
        <ion-input type="text" placeholder="Escribe tu tarea..." name="task" [(ngModel)]="task">
        </ion-input>

        <ion-button (click)="addTask()" [disabled]="!task"> <!-- el !task deshabilita el boton si no hay texto de la task -->
            <ion-icon name="add-outline"></ion-icon>
        </ion-button>
    </ion-item>

    @if (tasks.length === 0) {
        <ion-item class="ion-text-center" lines="none">
            <ion-label>No hay tareas pendientes</ion-label>
        </ion-item>
    } @else {
        <!-- Los ion-list estan formados por ion-item -->
        <ion-list>
            <ion-reorder-group [disabled]="false" (ionReorderEnd)="orderTasks($event)">

                @for (task of tasks; track task) {
                <ion-item-sliding>
                    <ion-item>
                        <ion-label>{{ task }}</ion-label>

                        <!-- El ion-reorder es el icono que permite arrastrar el item -->
                        <ion-reorder></ion-reorder>

                    </ion-item>

                    <ion-item-options side="end">

                        <!-- El slot icon-only es para que solo se vea el icono, y que se vea mejor -->
                        <ion-item-option color="danger" (click)="confirmDelete(task)">
                            <ion-icon name="trash-outline" slot="icon-only"></ion-icon>
                        </ion-item-option>

                    </ion-item-options>

                </ion-item-sliding>
            }
            </ion-reorder-group>
            
        </ion-list>
    }

</ion-content>

